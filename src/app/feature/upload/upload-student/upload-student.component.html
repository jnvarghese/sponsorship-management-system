<div class="container" style="margin-top:90px">
    <div *ngIf="uploadStudentFile">
        <h2>Upload Student Document</h2>
        <div class="row-fluid" style="margin-top:20px">
            <div class="col-md-6">
                <label for="gender">Agency</label>
                <select class="form-control" (change)="onAgencySelect($event.target.value)">
                    <option [value]="0" [selected]="true"> Please choose one </option>
                    <option *ngFor="let agency of agencies" [value]="agency.id">{{agency.code}} {{agency.name}}</option>
                </select>
            </div>
        </div>
        <div class="row-fluid" style="margin-top:20px">
            <div class="col-md-6">
                <label for="gender">Project</label>
                <select class="form-control" (change)="onProjectSelect($event.target.value)">
                    <option [value]="0" [selected]="true"> Please choose one </option>
                    <option *ngFor="let project of projects" [value]="project.id">{{project.code}} {{project.name}}</option>
                </select>
            </div>
        </div>
        <div class="row-fluid" *ngIf="projectChosen" style="margin-top:100px;">
            <div class="col-md-12" style="margin-bottom: 10px">
                <label for="file"> {{error}} Choose Student File</label>
                <input type="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" (change)="handleFileInput($event)"
                    placeholder="Upload data..." />
            </div>
        </div>
        <div class="row-fluid" style="margin-top:100px">
            <div *ngIf="readyToUpload" class="col-md-6">
                <button type="button" (click)="upload()" class="btn btn-primary btn-sm">Upload</button>
            </div>
            <div *ngIf="uploadStudentFile" class="col-md-6">
                <button type="button" (click)="cancel()" class="btn btn-primary btn-sm">Cancel</button>
            </div>
        </div>
    </div>
    <div *ngIf="uploadStudentList">
        <h2>Student Document List</h2>
        <p>This list displays the uploaded student documents</p>

        <div class="row">
            <div class="col-sm-12">
                <button type="submit" (click)="uploadDocument()" class="btn btn-primary btn-xs">Upload Document</button>
            </div>
        </div>

        <div *ngIf="files" class="row">
            <div class="col-sm-12">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>File Name</th>
                            <th>Agency</th>
                            <th>Project</th>
                            <th>Uploaded By</th>
                            <th>Uploaded Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let file of files">
                            <td>{{ file.fileName }}</td>
                            <td>{{ file.agencyName }}</td>
                            <td>{{ file.projectName }}</td>
                            <td>{{ file.uploadedBy }}</td>
                            <td>{{ file.createdDate }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>